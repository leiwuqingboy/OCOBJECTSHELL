
//-------38x68
const _blackNextMonthIcon = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABECAYAAADtAUf/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFzmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTEtMTlUMTA6NTY6MDgrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMTEtMTlUMTA6NTY6MDgrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTExLTE5VDEwOjU2OjA4KzA4OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmM1MzVmNzZmLWQ2ODYtNDFmZS1hNDZjLTM3MjlmNmI4Y2I5YyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmRjNWFiNDkyLWQ0ZTYtZGY0MS04NTM5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";
const _blackPreviousMonthIcon = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABECAYAAADtAUf/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFzmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTEtMTlUMTA6NTY6NDkrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMTEtMTlUMTA6NTY6NDkrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTExLTE5VDEwOjU2OjQ5KzA4OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjIwNDVkNmIxLTA4OTAtNDYxZC1hOGY5LTQxOTMxYzg0NzMwMSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjQ1MzQyYjI1LTY4MWMtMDg0Ni1hYWYy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";

const _whiteNextMonthIcon = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABECAYAAADtAUf/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFzmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTEtMTlUMTE6MDA6NTcrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMTEtMTlUMTE6MDA6NTcrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTExLTE5VDExOjAwOjU3KzA4OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFmYWM2MDNlLWE1NTMtNDczNC1hZDA4LWNkNTJkNmQyMGI4ZSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmE0ZWE1YzIwLWFmMmEtNjA0OS1hMmNmLTg2NGFhNmVmZTE2MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmNjNzM3ODBkLTBjNTMtNDdjOS04OGZmLWM0ZTZlNDg5Zjc0ZCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNjNzM3ODBkLTBjNTMtNDdjOS04OGZmLWM0ZTZlNDg5Zjc0ZCIgc3RFdnQ6d2hlbj0iMjAyMC0xMS0xOVQxMTowMDo1NyswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjFmYWM2MDNlLWE1NTMtNDczNC1hZDA4LWNkNTJkNmQyMGI4ZSIgc3RFdnQ6d2hlbj0iMjAyMC0xMS0xOVQxMTowMDo1NyswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+xvimwgAAApRJREFUaIHN2j1oFEEYxvEnHygoKIIQSBHQJpAqkCqF2GiTKpXIiQE7QazEKm2qlAEhkEK0iDap0qRKo40WaSwsUggiCIIggoiS3N/i3fPOce5uP+ZjH7jiducdfjc3uzsLI+AllhOgA6gNnwkA9XMqaU3SrjJnUobpZUrSc0mdPJx+JmUj1D5c8Z92ijk2mKxzbvBLq3DugdbgfAdbgRt2Ijtu1MmsuHENsuHKNMqCK9swOa5K46S4qgXJcHWKkuDqFkbHNSmOimvaQTRciGGPggsyH0bg7uSGBceFhAXFhYYFw8WABcHFgjXGxYQ1wsWG1calgNXCpYJVxqWEVcKlhpXG5YANw3WBu7lhY3E5YQJ2+D/HuWEPihFyR2wtJ+yxZ6ROgdu9NjlQ6x7UL2B1sF1q1IYH9RNYcdumRG16UD+AG772KUATwJYH9R24NqwuBWrbg/oGLI+qjYmaAp55UF+BpXH1sVDTwAsP6guwWKaPGKgzwJ4H9RlYKNtPaNRZYN+D+gjMV+krJOoccOBBfQCuVO0vFOo8cOhBHQNzdfoMgboIvPag3gOzdfttiroEvPWg3gEzTfpugroMHHlQR8W5Rj+6buFMMSpu3hSj2HiK1CmaxeaPm1fAhRCoOrA57Epzc4hdmUFQVWFXsXuSmwPsHhYMVQU2D3zyoPaxu31QVFnYAvacc7OHPReDo8rAFrEVgZtdbAURBTUOtoStndw8xdZa0VCjYMvYKtPNNrYqjYoaBruOrcfdbKVC+WA3sTcXN5upQD7YCvaO52YjNWoQtoq9DbtZz4HqwW4Bvx1QF3iUCwW2f+yk2AH1dx+SpIeSnuTZBmWZ1r+orqT7knbycPqZlO0Vk2wP2T21ACVJfwC2H/XPBsj+vgAAAABJRU5ErkJggg==";
const _whitePreviousMonthIcon = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABECAYAAADtAUf/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFzmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTEtMTlUMTE6MDE6MzQrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMTEtMTlUMTE6MDE6MzQrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTExLTE5VDExOjAxOjM0KzA4OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlhZDY1NjljLWEyMDQtNGVhZi1iZjNkLWVlZTk5OWM4MWFmZCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjgzYTFmMzE5LWM0OGItYTQ0OS1iYTY2LTI3NjIzZTQ4NTYxMyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjNlYWY4MGQ2LTc0OGEtNDlhNi1iZDhkLTY3MWYyMmIwOTA0NCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNlYWY4MGQ2LTc0OGEtNDlhNi1iZDhkLTY3MWYyMmIwOTA0NCIgc3RFdnQ6d2hlbj0iMjAyMC0xMS0xOVQxMTowMTozNCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjlhZDY1NjljLWEyMDQtNGVhZi1iZjNkLWVlZTk5OWM4MWFmZCIgc3RFdnQ6d2hlbj0iMjAyMC0xMS0xOVQxMTowMTozNCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+hl9XhAAAAoZJREFUaIHN2j1oFEEYxvHnvKCgoAhCIEVAm0CqQKoUYqNNsEgZTrnOKqVYpU2VMlhEBEMsYpUqTao02miRxiKFhSCBgCCIICJ6/i1mA+f43t1+zMc+cCzszvvyu7293VmYDqCWZVXS/ancCi99SS8kdS/klgzlkaQdSV1JagtsTdIzDXnaAHsi6amkztC+XwJyftb5Pz+BlZyoDQP1A1gGlAu1aaC+A3fPx6QGdYAtA/UNuD08NjVq20B9BZb88alQXWDXQH0BFq2aFKgp4JWB+gwsjKqLjboI7BuoM2B+XG1M1CXgwEB9AuYm1cdCXQYODdRH4GaZHjFQV4AjA/UBmC3bJzTqGvDGQJ0AM1V6hURdB94ZqPfAdNV+oVA3gGMDdVwcq9wzBGq6OCt+3hZnsVbfpqgZ3PXj5zVwtUnvJqhZ3D/NzxHun9noS9ctvIW7J/k5xN3DGl8idYrmgFMDdYC72zdG1YHN455zfvZxz8UgqKqwBdyMwM8ebgYRDFUFtoibO/nZwc21gqLKwpZws0w/27hZaXBUGdgd3Hzcz1ZM1CTYPdybi5/NmKBJsGXcO56fjRSoUbAV3Nuwn/VUKAu2Cgw80B/gcUqUD+sXCB+1lhrlw6wH8vMcKB/20Dhjv4FeblircNbOXoHJiht1IDtu3MGsuEkDsuHKDMqCKzswOa7K4KS4qgXJcHWKkuDqFkbHNSmOimvaIBouxGmPggtyPcTAhYIFx4WEBcWFho3DPcgNC4KLBWuMiwlrhIsNq41LAauFSwWrjEsJq4RLDSuNywErhcsFm4jLuUxrr9i+VLECqtjuSlIHsi9s6+lfnCQN2gCTDFwblmlJ7mftSxqc7/gLkdeTW+PFUBoAAAAASUVORK5CYII=";

//Execute 执行的，Abnormal 异常的，Await 等待的
const _DtdlStatus = {Execute: 1, Abnormal: 0, Await: 2};
//PastDay 过去的，ToDay 今天的，FutureDay 将来的
const _DtdlDayStatus = {PastDay: 0, ToDay: 1, FutureDay: 2};

const dtdlLog = function(msg) {
	if (_debug) {
	    console.log(msg);
	}
}

const formatNumber = function (n) {
	n = n.toString();
	return n[1] ? n : '0' + n;
}

const formatTimeTwo = function (number, format) {
	var formateArr = ['Y', 'M', 'D', 'h', 'm', 's'];
	var returnArr = [];

	var date = new Date(parseInt(number));
	returnArr.push(date.getFullYear());
	returnArr.push(formatNumber(date.getMonth() + 1));
	returnArr.push(formatNumber(date.getDate()));

	returnArr.push(formatNumber(date.getHours()));
	returnArr.push(formatNumber(date.getMinutes()));
	returnArr.push(formatNumber(date.getSeconds()));

	for (var i in returnArr) {
		format = format.replace(formateArr[i], returnArr[i]);
	}
	return format;
}

const getDate = function (datestr) {
	return new Date(datestr.replace(/-/g,'/'));
}

//datestr必须是yyyy-MM-dd格式
const getWeek = function (datestr) {
	return getDate(datestr).getDay();
}

//datestr必须是yyyy-MM-dd格式
const getNextMonth = function (datestr) {
	let date = getDate(datestr);
	let time = date.setMonth(date.getMonth()+1);
	return new Date(time);
}

//datestr必须是yyyy-MM-dd格式
const getPreviousMonth = function (datestr) {
	let date = getDate(datestr);
	let time = date.setMonth(date.getMonth()-1);
	return new Date(time);
}

//datestr1，datestr2必须是yyyy-MM-dd格式
const getDaysTwoMonth = function (datestr1,datestr2) {
    let dateList1 = datestr1.split("-");
    //转换为9-25-2017格式
    let date1 = getDate(dateList1[1] + '/' + dateList1[2] + '/' + dateList1[0]) ;
    let dateList2 = datestr2.split("-");
    //转换为9-25-2017格式
    let date2 = getDate(dateList2[1] + '/' + dateList2[2] + '/' + dateList2[0]);
    //把相差的毫秒数转换为天数
    let days = parseInt(Math.abs(date1.getTime() - date2.getTime()) / 1000 / 60 / 60 / 24);
    return days;
}

const getDayStatus = function (datestr) {
	let datetime = getDate(datestr).getTime()
	let todaytime = getDate(_todayDatestr).getTime()
	if (datetime === todaytime) {
		return _DtdlDayStatus.ToDay;
	}

	if (datetime > todaytime) {
		return _DtdlDayStatus.FutureDay;
	}

	return _DtdlDayStatus.PastDay;
}

const getDayList = function (date,dayColorList,component) {
	let time = date.getTime();

	let datestr = formatTimeTwo(time, "Y-M");
	let title = formatTimeTwo(time, "Y年M月");

	_currentDatestr = datestr+"-1";

	component.targetdatestr = _currentDatestr;
	component.targettime = getDate(_currentDatestr).getTime();

	let nextDatestr = formatTimeTwo(getNextMonth(_currentDatestr).getTime(),"Y-M-D");
	let days = getDaysTwoMonth(_currentDatestr,nextDatestr);

	let nextTargetDatestr = datestr+"-"+days;

	component.nexttargetdatestr = nextTargetDatestr;
	component.nexttargettime = getDate(nextTargetDatestr).getTime();

	let dayList = [];
	let firstWeek = getWeek(_currentDatestr);
	let dayDatestr = "";
	let dayStatus = _DtdlDayStatus.ToDay;

	if (firstWeek != 0) {
		for (var i = 0; i < firstWeek; i++) {
			dayList.push({
				dayColor: "#00000000",
				day: "invalid"
			})
		}
	}

	for (var day = 1; day <= days; day++) {
		dayDatestr = datestr+"-"+day;
		dayStatus = getDayStatus(dayDatestr)

		dayList.push({
			datestr: dayDatestr,
			day: day,
			dayColor: dayColorList[dayStatus],
			dayStatus: dayStatus,
			isSelected: false
		})
	}

	return {title: title, dayList: dayList};
}

let _debug = false;				//是否开启打印

let _currentDatestr = "";		//当前展示的日期xxxx-xx-1

let _todayDatestr = "";			//当日的日期

let _currentIndex = -1;			//选中的day

Component({
	data: {
		mapList: {
			"2020.11.19": [{
				status: _DtdlStatus.Execute,
				time: "",
				bgColor: "",	//由datetodata内部处理，无需负值
				textColor: ""	//由datetodata内部处理，无需负值
			}]
		},

		layoutBgColor: "#ffffff",

		executeBgColor: "#32c07e",
		executeTextColor: "#ffffff",
		abnormalBgColor: "#f94243",
		abnormalTextColor: "#ffffff",
		awaitBgColor: "#fb9313",
		awaitTextColor: "#ffffff",

		titleColor: "#333333",
		weekTextColor: "#000000",
		pastDayTextColor: "#9a9a9a",
		toDayTextColor: "#fb8800",
		futureDayTextColor: "#000000",

		selectBorderColor: "#fcbb70",

		nextMonthIcon: _blackNextMonthIcon,
		previousMonthIcon: _blackPreviousMonthIcon,

		title: "",
		dayList: [{
			datestr: "",
			day: "",
			dayColor: "",
			dayStatus: _DtdlDayStatus.PastDay,
			isSelected: false
		}],

		weakList: ["日","一","二","三","四","五","六"]
	},
	properties: {
		//Number，String，Array，Object，Function
		status: {
			type: Object,
			value: null
		},
		nextMonthCallback: {
			type: Function,
			value: null
		},
		previousMonthCallback: {
			type: Function,
			value: null
		},
		selectedDayCallback: {
			type: Function,
			value: null
		},
		targetdatestr: {
			type: String,
			value: null
		},
		nexttargetdatestr: {
			type: String,
			value: null
		},
		targettime: {
			type: Number,
			value: null
		},
		nexttargettime: {
			type: Number,
			value: null
		}
	},
	methods: {
		dtdlInit: function(opts) {
			this.status = _DtdlStatus

			_debug = opts.debug ? opts.debug : false;
			
			let layoutBgColor = opts.layoutBgColor ? opts.layoutBgColor : this.data.layoutBgColor;
			let executeBgColor = opts.executeBgColor ? opts.executeBgColor : this.data.executeBgColor;
			let executeTextColor = opts.executeTextColor ? opts.executeTextColor : this.data.executeTextColor;
			let abnormalBgColor = opts.abnormalBgColor ? opts.abnormalBgColor : this.data.abnormalBgColor;
			let abnormalTextColor = opts.abnormalTextColor ? opts.abnormalTextColor : this.data.abnormalTextColor;
			let awaitBgColor = opts.awaitBgColor ? opts.awaitBgColor : this.data.awaitBgColor;
			let awaitTextColor = opts.awaitTextColor ? opts.awaitTextColor : this.data.awaitTextColor;
			let titleColor = opts.titleColor ? opts.titleColor : this.data.titleColor;
			let weekTextColor = opts.weekTextColor ? opts.weekTextColor : this.data.weekTextColor;
			let pastDayTextColor = opts.pastDayTextColor ? opts.pastDayTextColor : this.data.pastDayTextColor;
			let toDayTextColor = opts.toDayTextColor ? opts.toDayTextColor : this.data.toDayTextColor;
			let futureDayTextColor = opts.futureDayTextColor ? opts.futureDayTextColor : this.data.futureDayTextColor;
			let selectBorderColor = opts.selectBorderColor ? opts.selectBorderColor : this.data.selectBorderColor;

			this._freshData({
				layoutBgColor: layoutBgColor,
				executeBgColor: executeBgColor,
				executeTextColor: executeTextColor,
				abnormalBgColor: abnormalBgColor,
				abnormalTextColor: abnormalTextColor,
				awaitBgColor: awaitBgColor,
				awaitTextColor: awaitTextColor,
				titleColor: titleColor,
				weekTextColor: weekTextColor,
				pastDayTextColor: pastDayTextColor,
				toDayTextColor: toDayTextColor,
				futureDayTextColor: futureDayTextColor,
				selectBorderColor: selectBorderColor,

				mapList: null
			});

			let date = new Date();

			_todayDatestr = formatTimeTwo(date.getTime(), "Y-M-D");

			let dayColorList = [pastDayTextColor,toDayTextColor,futureDayTextColor];
			let values = getDayList(date, dayColorList, this);

			this._freshData({
				title: values.title,
				dayList: values.dayList
			});

			this.setData({
				title: values.title,
				dayList: values.dayList
			});
		},
		_freshData: function(newData) {
			let data = this.data;
			this.data = {
				...data,
				...newData
			}
		},
		nextMonthClick() {
			let pastDayTextColor = this.data.pastDayTextColor;
			let toDayTextColor = this.data.toDayTextColor;
			let futureDayTextColor = this.data.futureDayTextColor;

			let date = getNextMonth(_currentDatestr);
			let dayColorList = [pastDayTextColor,toDayTextColor,futureDayTextColor];
			let values = getDayList(date, dayColorList, this);

			this._freshData({
				title: values.title,
				dayList: values.dayList
			});

			this.setData({
				title: values.title,
				dayList: values.dayList
			});

			_currentIndex = -1;

			if (this.nextMonthCallback) {
				this.nextMonthCallback()
			}
		},
		previousMonthClick() {
			let pastDayTextColor = this.data.pastDayTextColor;
			let toDayTextColor = this.data.toDayTextColor;
			let futureDayTextColor = this.data.futureDayTextColor;

			let date = getPreviousMonth(_currentDatestr);
			let dayColorList = [pastDayTextColor,toDayTextColor,futureDayTextColor];
			let values = getDayList(date, dayColorList, this);

			this._freshData({
				title: values.title,
				dayList: values.dayList
			});

			this.setData({
				title: values.title,
				dayList: values.dayList
			});

			_currentIndex = -1;

			if (this.previousMonthCallback) {
				this.previousMonthCallback()
			}
		},
		updateMapList(mapList) {
			let that = this;

			let tempMapList = {};
			let list = null;
			let object = null;

			for (var key in mapList) {
				list = mapList[key];
				for (var i = 0; i < list.length; i++) {
					object = list[i];
					if (object.status == _DtdlStatus.Execute) {
						object["bgColor"] = that.data.executeBgColor;
						object["textColor"] = that.data.executeTextColor;
					} else if (object.status == _DtdlStatus.Abnormal) {
						object["bgColor"] = that.data.abnormalBgColor;
						object["textColor"] = that.data.abnormalTextColor;
					} else if (object.status == _DtdlStatus.Await) {
						object["bgColor"] = that.data.awaitBgColor;
						object["textColor"] = that.data.awaitTextColor;
					}
					list[i] = object;
				}
				tempMapList[key] = list;
			}

			this._freshData({ mapList: tempMapList });
			this.setData({ mapList: tempMapList });
		},
		dayClick(e) {
			let index = parseInt(e.currentTarget.id);

			if (index > -1) {
				if (this.data.dayList.length > index) {
					if (!this.data.dayList[index].datestr) { return }
				}
			}

			let dayList = this.data.dayList;
			let mapList = this.data.mapList;

			let dayObject = dayList[index];
			let datestr = dayObject.datestr;
			
			if (mapList) {
				let list = mapList[datestr];

				if (list) {
					if (_currentIndex > -1 && index != _currentIndex) {
						dayObject = dayList[_currentIndex];
						dayObject.isSelected = false;
						dayList[_currentIndex] = dayObject;

						this._freshData({ dayList: dayList });
						this.setData({ dayList: dayList });
					}

					if (index > -1 && index != _currentIndex) {
						dayObject = dayList[index];
						dayObject.isSelected = true;
						dayList[index] = dayObject;

						this._freshData({ dayList: dayList });
						this.setData({ dayList: dayList });

						_currentIndex = index;

						if (this.selectedDayCallback) {
							this.selectedDayCallback(datestr, list);
						}
					}
				}
			}
		}
	}
})